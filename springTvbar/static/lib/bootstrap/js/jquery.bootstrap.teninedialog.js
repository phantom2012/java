(function(a){a.fn.teninedialog=function(c){var d={title:"标题",content:"内容",showCloseButton:true,otherButtons:[],otherButtonStyles:[],bootstrapModalOption:{},dialogShow:function(){},dialogShown:function(){},dialogHide:function(){},dialogHidden:function(){},clickButton:function(g,h,f){}};var c=a.extend(d,c);var e="";function b(){var n=new Date();var i=n.getFullYear();var o=n.getMonth()+1;var k=n.getDate();var g=n.getHours();var f=n.getMinutes();var j=n.getSeconds();var l=n.getMilliseconds();return"t_"+i+o+k+g+f+j+l}a.fn.extend({closeDialog:function(f){var g=f;g.modal("hide")}});return this.each(function(){var l=a(this);e=b();var g='<div id="{ID}" class="modal hide fade" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button><h3 id="myModalLabel">{title}</h3></div><div class="modal-body"><p>{body}</p></div><div class="modal-footer">{button}</div></div>';var f='<button class="btn" data-dismiss="modal" aria-hidden="true">关闭</button>';if(!c.showCloseButton&&c.otherButtons.length>0){f=""}var k="cls-"+e;for(var h=0;h<c.otherButtons.length;h++){f+='<button buttonIndex="'+h+'" class="'+k+" btn "+c.otherButtonStyles[h]+'">'+c.otherButtons[h]+"</button>"}g=g.replace(/{ID}/g,e).replace(/{title}/g,c.title).replace(/{body}/g,c.content).replace(/{button}/g,f);l.append(g);var j=a("#"+e);a("."+k).click(function(){var i=a(this).attr("buttonIndex");c.clickButton(a(this),j,i)});j.on("show",function(){c.dialogShow()});j.on("shown",function(){c.dialogShown()});j.on("hide",function(){c.dialogHide()});j.on("hidden",function(){c.dialogHidden();j.remove()});j.modal(c.bootstrapModalOption)})};a.extend({teninedialog:function(b){a("body").teninedialog(b)}})})(jQuery);