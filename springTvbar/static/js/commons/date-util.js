Date.prototype.format=function(b){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};if(/(y+)/.test(b)){b=b.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var a in c){if(new RegExp("("+a+")").test(b)){b=b.replace(RegExp.$1,RegExp.$1.length==1?c[a]:("00"+c[a]).substr((""+c[a]).length))}}return b};function formatDate(b,a){if(!b){return""}a=a||"yyyy-MM-dd";var c=new Date(Date.parse(b.replace(/-/g,"/")));return c.format(a)}function getDoday(a){a=a||"yyyy-MM-dd";return new Date().format(a)}function getBeginDateOfWeek(b){var e=new Date();var f=e.getDay();if(f==0){f=7}var a=(-1)*f+1;var g=e.getFullYear();var h=e.getMonth()+1;var c=e.getDate();c=c+a;if(h<10){h="0"+h}if(c<10){c="0"+c}var d=g+"-"+h+"-"+c;return d}function getEndDateOfWeek(b){var d=new Date();var e=d.getDay();if(e==0){e=7}var a=7-e;var f=d.getFullYear();var h=d.getMonth()+1;var c=d.getDate();c=c+a;if(h<10){h="0"+h}if(c<10){c="0"+c}var g=f+"-"+h+"-"+c;return g}function getBeginDateOfMonth(a){var b=new Date();var c=b.getFullYear();var d=b.getMonth()+1;if(d<10){d="0"+d}return c+"-"+d+"-01"}function getEndDateOfMonth(a,h){var c=h||new Date();var e=c.getFullYear();var g=c.getMonth()+1;if(g<10){g="0"+g}var f=new Date(e,g,1);var b=(new Date(f.getTime()-1000*60*60*24)).getDate();return e+"-"+g+"-"+b}function compareDate(i,g){var f=i.split("-");var e=g.split("-");var b=f[0];var j=f[1];var d=f[2];var a=e[0];var h=e[1];var c=e[2];if(parseFloat(b)>parseFloat(a)){return true}else{if(parseFloat(b)<parseFloat(a)){return false}else{if(parseFloat(j)>parseFloat(h)){return true}else{if(parseFloat(j)<parseFloat(h)){return false}else{if(parseFloat(d)>parseFloat(c)){return true}}}}}return false}function diffDays(d,c){var b=new Date(Date.parse(d.replace(/-/g,"/")));var a=new Date(Date.parse(c.replace(/-/g,"/")));var e=Math.abs(b.getTime()-a.getTime())/(1000*60*60*24);return Math.ceil(e)}function countInterval(m,k,f){var h=m.substr(0,4);var g=k.substr(0,4);var n=m.substr(6,2);var l=k.substr(6,2);var b=m.substr(9,2);var a=k.substr(9,2);var e=h+"/"+n+"/"+b+m.substring(10);var c=g+"/"+l+"/"+a+k.substring(10);var j=new Date(e).getTime();var i=new Date(c).getTime();var d=(i-j);if(d>f*1000){return true}else{return false}}function getCurrentTime(){var b=new Date();var f=b.getFullYear();var g=b.getMonth()+1;var a=b.getDate();var e=b.getHours();var h=b.getMinutes();var d=b.getSeconds();var c=f+"-";if(g<10){c+="0"}c+=g+"-";if(a<10){c+="0"}c+=a+" ";if(e<10){c+="0"}c+=e+":";if(h<10){c+="0"}c+=h+":";if(d<10){c+="0"}c+=d;return(c)}function addDay(c,e){var b=formatDate(c).split("-");var d=new Date(Number(b[0]),Number(b[1])-1,Number(b[2])+e);var a=d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate();return formatDate(a)}function addYear(c,e){var b=formatDate(c).split("-");var d=new Date(Number(b[0])+e,Number(b[1])-1,Number(b[2]));var a=d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate();return formatDate(a)}function showdate(b){var a=new Date();a.setDate(a.getDate()+b);a=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();return a};