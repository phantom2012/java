if(typeof(window.console)=="undefined"){window.console={log:function(){}}}var allowAnimation=!$.browser.msie||parseInt($.browser.version)>9;var isIE7=$.browser.msie&&parseInt($.browser.version)==7;var isIE9=$.browser.msie&&parseInt($.browser.version)==9;var macSafari=false;var videoPlay=null;if(/.+mac os((?!chrome).)+Safari.+/i.test(window.navigator.userAgent.toLowerCase())){macSafari=true}$(function(){if(window.localStorage&&window.localStorage.getItem&&window.localStorage.getItem("showConsole")=="true"){window.myConsole=function(a){console.log(a)};console.log("控制台信息己开启")}else{window.myConsole=function(){}}videoPlay={idstr:"a",createVCRPlayer:function(d){var c=$("#videoShowBox");var a=$("#top-video-play");var b=[];var e=this;if(d.live=="true"){b=[this.createLiveBox(d)].join("");c.html(b);c.show();a.hide();return}if($("#jquery_jplayer_"+this.idstr).size()&&$("#jquery_jplayer_"+this.idstr).data("ready")=="1"){$("#jquery_jplayer_"+this.idstr).jPlayer("setMedia",{m4v:d.url}).jPlayer("play")}else{b=[this.createShowBox()].join("");c.html(b);c.show();a.hide();$("#jquery_jplayer_"+e.idstr).jPlayer({ready:function(){$("#jquery_jplayer_"+e.idstr).data("ready",1);$(this).jPlayer("setMedia",{mp3:d.url}).jPlayer("play")},play:function(){$("#videoShowBox").find(".jp-video").addClass("jp-video-playing");$("#view-"+e.idstr+"-btn").removeClass("video-play").addClass("video-pause")},pause:function(){$("#videoShowBox").find(".jp-video").removeClass("jp-video-playing");$("#view-"+e.idstr+"-btn").removeClass("video-pause").addClass("video-play")},ended:function(){var f=$(this);$("#view-"+e.idstr).find(".jp-video").removeClass("jp-video-playing");f.jPlayer("stop").jPlayer("setMedia",{mp3:d.url})},swfPath:"http://res0.1931.yystatic.com/dream/swf/Jplayer.swf",supplied:"mp3",size:{width:"600px",height:"420px",cssClass:"jp-video-470p"},solution:"flash,html",cssSelectorAncestor:"#jp_container_a",fullBtn:true,smoothPlayBar:true,keyEnabled:true})}},createLiveBox:function(a){return['<div class="show_video" id="main_video">','<object height="420" width="600" align="middle" type="application/x-shockwave-flash" data="http://webyylbs.yy.duowan.com/s/'+a.tid+"/"+a.cid+'/entjs.swf">','<param name="quality" value="high">','<param name="allowScriptAccess" value="always">','<param name="wMode" value="transparent">','<param name="swLiveConnect" value="true">','<param name="menu" value="false">','<param name="flashVars" value="">',"</object>","</div>"].join("")},createShowBox:function(){var a="jp_container_"+this.idstr;return['<div id="'+a+'" class="jp-video">',' <div class="jp-type-single">','<div id="jquery_jplayer_'+this.idstr+'" class="jp-jplayer"></div>','<div class="jp-gui">','<a id="view-'+this.idstr+'-btn" class="video-play" href="javascript:void(0);"></a>','<div class="jp-interface">','<div class="jp-progress">',' <div class="jp-seek-bar">','<div class="jp-play-bar"></div>',"</div>","</div>",'<div class="jp-time">','<span class="jp-current-time"></span><span class="jp-duration"></span>',"</div>",'<div class="jp-controls-holder">','<ul class="jp-controls">','<li><a href="javascript:;" class="jp-play" tabindex="1" title="播放">play</a></li>','<li><a href="javascript:;" class="jp-pause" tabindex="1" title="暂停">pause</a></li>','<li><a href="javascript:;" class="jp-mute" tabindex="1" title="静音">mute</a></li>','<li><a href="javascript:;" class="jp-unmute" tabindex="1" title="取消静音">unmute</a></li>',"</ul>",'<div class="jp-volume-bar">','<div class="jp-volume-bar-value"></div>',"</div>","</ul>",isIE7?"":['<div class="jp-screen-bar">','<a href="javascript:;" class="jp-full-screen" title="全屏显示"></a>','<a href="javascript:;" class="	jp-restore-screen" title="退出显示"></a>',"</div>"].join(""),"</div>","</div>","</div>","</div>","</div>"].join("")},getParam:function(a){return{tid:a.attr("_tid")||"",cid:a.attr("_cid")||"",live:a.attr("_live")||"",url:a.attr("_url")||""}},eventBind:function(){var b=this;var a=b.getParam($("#videoBox"));if(a.live=="true"){b.createVCRPlayer(a);return}else{$("#topBanner").on("click","#videoBox",function(){if($("#videoShowBox").find(".jp-video").size()>0){return}var c=$(this);var d=b.getParam(c);b.createVCRPlayer(d)});$("#topBanner").on("click","#view-a-btn",function(d){var c=$(this);if(c.hasClass("video-play")){c.parent().siblings(".jp-jplayer").jPlayer("play")}else{c.parent().siblings(".jp-jplayer").jPlayer("pause")}return false})}},init:function(){this.eventBind()}};videoPlay.init()});